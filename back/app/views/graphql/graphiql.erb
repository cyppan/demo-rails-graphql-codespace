<html>
<head>
  <title>GraphiQL</title>
  <link href="https://unpkg.com/graphiql/graphiql.min.css" rel="stylesheet"/>
</head>
<body style="margin: 0;">
<div id="graphiql" style="height: 100vh;"></div>

<script src="https://unpkg.com/react@18.2.0/umd/react.production.min.js" integrity="sha384-tMH8h3BGESGckSAVGZ82T9n90ztNXxvdwvdM6UoR56cYcf+0iGXBliJ29D+wZ/x8" crossorigin="anonymous"></script>
<script src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js" integrity="sha384-bm7MnzvK++ykSwVJ2tynSE5TRdN+xL418osEVF2DE/L/gfWHj91J2Sphe582B1Bh" crossorigin="anonymous"></script>
<script src="https://unpkg.com/graphiql@3.0.6/graphiql.min.js" integrity="sha384-Sntd+AoO/Fp2wXBOr+uLca2KhF+tmz4821GENMGBejijmj12LZ8YQ01Lr7lNQC5z" crossorigin="anonymous"></script>

<script>
    const graphQLFetcher = graphQLParams =>
        fetch('<%= graphql_path %>', {
            method: 'post',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(graphQLParams),
        })
            .then(response => response.json())
            .catch(() => response.text());
    ReactDOM.render(
        React.createElement(GraphiQL, {fetcher: graphQLFetcher}),
        document.getElementById('graphiql'),
    );
</script>
</body>
</html>
